(function () {
  var grid = document.getElementById('picture_grid');

  <% @pictures.each do |picture| %>
    grid.insertAdjacentHTML('beforeend', '<%= j render picture %>');
  <% end %>

  $('#gallery .pagination').html('<%= j render 'pagination_links' %>');

  $(document).trigger('content:update');

  if (typeof ReactRailsUJS !== 'undefined') {
    ReactRailsUJS.mountComponents(grid);
  }
})();
